<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>weddingcnp via GCP - 3. endpointAPI 設計實作 · Kaichu.io</title><meta name="description" content="wedding endpoint Service 負責整個專案最重要的資料收集部份，此篇建立簡單的範例來說明 endpoint API 的使用方式"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="/css/customize.css"><link rel="search" type="application/opensearchdescription+xml" href="http://kaichu.io/atom.xml" title="Kaichu.io"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://twitter.com/CageChung" target="_blank" class="nav-list-link">TWITTER</a></li><li class="nav-list-item"><a href="https://github.com/cage1016" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="http://www.slideshare.net/cagechung" target="_blank" class="nav-list-link">SLIDESHARE</a></li><li class="nav-list-item"><a href="https://www.linkedin.com/in/kaichuchung" target="_blank" class="nav-list-link">LINKEDIN</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">weddingcnp via GCP - 3. endpointAPI 設計實作</h1><div class="post-info">Jul 12, 2017</div><div class="post-content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>此篇就對 <a href="http://weddingcnp.appspot.com/" target="_blank" rel="noopener">Cage &amp; Ping wedding</a> 中實作專案中最為重要的 backend API (endpoint API) 部份進行簡單的說明，每一個 Google App Engine Service 實作的細節會在後序的篇幅中介紹</p>
<h4 id="weddingcnp-系例傳送門"><a href="#weddingcnp-系例傳送門" class="headerlink" title="weddingcnp 系例傳送門"></a>weddingcnp 系例傳送門</h4><ol>
<li><a href="https://kaichu.io/2017/06/08/weddingcnp-via-gcp/">weddingcnp via GCP 簡介</a></li>
<li><a href="https://kaichu.io/2017/06/12/weddingcnp-via-gcp-1/">weddingcnp via GCP - 1. 專案架構切分</a></li>
<li><a href="https://kaichu.io/2017/06/18/weddingcnp-via-gcp-2/">weddingcnp via GCP - 2. 前端頁面設計實作</a></li>
<li><a href="https://kaichu.io/2017/07/12/weddingcnp-via-gcp-3/">weddingcnp via GCP - 3. endpointAPI 設計實作</a></li>
<li>weddingcnp 前端 vue.js 設計實作</li>
<li>weddingcnp edm 寄送 sendgrid</li>
</ol>
<h4 id="endpointAPI-設計實作"><a href="#endpointAPI-設計實作" class="headerlink" title="endpointAPI 設計實作"></a>endpointAPI 設計實作</h4><p><img src="/img/weddingcnp-via-gpc-3_1.png" alt="weddingcnp endpointAPI"> 圖一</p>
<p><img src="/img/weddingcnp-via-gpc-3_2.png" alt="weddingcnp endpointAPI curl"> 圖二</p>
<p><a href="http://weddingcnp.appspot.com/" target="_blank" rel="noopener">Cage &amp; Ping wedding</a> 的網站大至上可以區分為靜態頁面(frontend Service, Golang) 及負責資料收集的 API (endpoints Service, Python). Google <a href="https://cloud.google.com/endpoints/docs/frameworks/legacy/v1/python/create_api" target="_blank" rel="noopener">Endpoints API</a><sup id="fnref:1"><a href="#fn:1" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="Endpoints API 2.0 的版本已經出來了，相較於 1.0 改變滿大的，原先像 Google API explorer 的部份由 swagger 取代，詳細的說明請見官網
">[1]</span></a></sup> 是架構在 GAE 上的一個 RPC (remote procedure call) 服務。由於 endpoints API 是基於 <a href="https://cloud.google.com/appengine/docs/standard/python/tools/protorpc/" target="_blank" rel="noopener">ProtoRPC remote.Service</a> 實作出來的，所以在實作我們的方法時也是依照 protorpc 的方式來定義，小弟在寫 <a href="http://weddingcnp.appspot.com/" target="_blank" rel="noopener">Cage &amp; Ping wedding</a> 這一個網站的時候 Endpoints API 還是 1.0，所以這篇文章還是以 Endpoints API 1.0 來說明</p>
<a id="more"></a>
<h3 id="endpoint-API-demo-project"><a href="#endpoint-API-demo-project" class="headerlink" title="endpoint API demo project"></a>endpoint API demo project</h3><p>小弟我建立一個比較簡單的範例來說明</p>
<p><a href="https://github.com/cage1016/endpoint-api-demo" target="_blank" rel="noopener">https://github.com/cage1016/endpoint-api-demo</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git clone repo</span></span><br><span class="line">$ git <span class="built_in">clone</span> git@github.com:cage1016/endpoint-api-demo.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># install GAE python requirement packages</span></span><br><span class="line">$ pip install -r requirements.txt -t lib</span><br><span class="line">Collecting arrow==0.8.0 (from -r requirements.txt (line 1))</span><br><span class="line">Collecting python-dateutil (from arrow==0.8.0-&gt;-r requirements.txt (line 1))</span><br><span class="line">  Downloading python_dateutil-2.6.1-py2.py3-none-any.whl (194kB)</span><br><span class="line">    100% |████████████████████████████████| 194kB 1.2MB/s</span><br><span class="line">Collecting six&gt;=1.5 (from python-dateutil-&gt;arrow==0.8.0-&gt;-r requirements.txt (line 1))</span><br><span class="line">  Using cached six-1.10.0-py2.py3-none-any.whl</span><br><span class="line">Installing collected packages: six, python-dateutil, arrow</span><br><span class="line">Successfully installed arrow python-dateutil-2.2 six-1.10.0</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment"># run GAE python locally</span></span><br><span class="line">$ dev_appserver.py app.yaml</span><br><span class="line">INFO     2017-07-12 13:30:19,063 devappserver2.py:116] Skipping SDK update check.</span><br><span class="line">INFO     2017-07-12 13:30:19,706 api_server.py:312] Starting API server at: http://localhost:51100</span><br><span class="line">INFO     2017-07-12 13:30:19,710 dispatcher.py:226] Starting module <span class="string">"default"</span> running at: http://localhost:8080</span><br><span class="line">INFO     2017-07-12 13:30:19,711 admin_server.py:116] Starting admin server at: http://localhost:8000</span><br><span class="line"></span><br><span class="line"><span class="comment"># visit http://localhost:8080</span></span><br></pre></td></tr></table></figure>
<p>完全上述步驟後透過瀏覽器訪問 <code>http://localhost:8080/_ah/api/explorer</code> 就可以得到圖一中類似 <a href="https://developers.google.com/apis-explorer/#p/" target="_blank" rel="noopener">Google API explorer</a> 風格的本地測試頁面, 這是一個非常方便的工具，可以讓自己在本地透過瀏覽器直接操作自己定義的 endpointAPI</p>
<p><img src="/img/weddingcnp-via-gpc-3_3.png" alt="endpoint-api-demo"></p>
<h4 id="專案架構"><a href="#專案架構" class="headerlink" title="專案架構"></a>專案架構</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── apis                   // endpoint api packages</span><br><span class="line">│   ├── __init__.py</span><br><span class="line">│   └── books.py</span><br><span class="line">├── lib</span><br><span class="line">├── app.py                 // 主程式進入點</span><br><span class="line">├── app.yaml               // GAE 配置檔</span><br><span class="line">├── appengine_config.py    // lib 載入配置</span><br><span class="line">├── models.py              // GAE Datastore 檔</span><br><span class="line">├── requirements.txt       // GAE python 引用資源庫</span><br><span class="line">├── settings.py            // 專案設定檔</span><br><span class="line">└── utils.py               // helpers function</span><br></pre></td></tr></table></figure>
<p>一個 GAE endpoint API Service 大至上進行簡單的配置可以執行了</p>
<p><strong>app.yaml</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">module:</span> <span class="string">default</span></span><br><span class="line"></span><br><span class="line"><span class="attr">runtime:</span> <span class="string">python27</span></span><br><span class="line"><span class="attr">api_version:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">threadsafe:</span> <span class="literal">yes</span></span><br><span class="line"></span><br><span class="line"><span class="attr">handlers:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">url:</span> <span class="string">/_ah/spi/.*</span></span><br><span class="line">  <span class="attr">script:</span> <span class="string">app.API</span></span><br><span class="line">  <span class="attr">secure:</span> <span class="string">always</span></span><br><span class="line"></span><br><span class="line"><span class="attr">libraries:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">endpoints</span></span><br><span class="line">  <span class="attr">version:</span> <span class="string">latest</span></span><br></pre></td></tr></table></figure>
<p><strong>app.yaml</strong> 配置上的重點為在 handlers 區塊加入 <code>/_ah/spi/.*</code> 這一個 route 並將 route 導至 endpoints API server</p>
<p><strong>app.py</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> endpoints</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> apis <span class="keyword">import</span> books</span><br><span class="line"></span><br><span class="line">API = endpoints.api_server([</span><br><span class="line">    books.BooksAPI</span><br><span class="line">])</span><br></pre></td></tr></table></figure>
<p>endpoints api server 由 <code>endpoints.api_server([])</code> 建立, 其中的參數是實作 <code>protorpc.remote.Service</code> 類別的 API, 目前我們只有實作一個 <code>books.BooksAPI</code> 所以只有填入一個</p>
<p><strong>settings.py</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line">books_api = endpoints.api(name=<span class="string">'dummy'</span>,</span><br><span class="line">                         version=<span class="string">'v1'</span>,</span><br><span class="line">                         description=<span class="string">'dummy API'</span>,</span><br><span class="line">                         allowed_client_ids=[CLIENT_ID,</span><br><span class="line">                                             endpoints.API_EXPLORER_CLIENT_ID],</span><br><span class="line">                         scopes=[endpoints.EMAIL_SCOPE])</span><br></pre></td></tr></table></figure>
<p>在我們定義的 <code>protorpc.remote.Service</code> API 上加一個 Decorate<sup id="fnref:2"><a href="#fn:2" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="在定義 API 說明時有二種方式。這邊採用的是 `@books_api.api_class`，在 `books_api` 下允許定義多組 RESTful resource
">[2]</span></a></sup> 來描述我們的 API(API 名稱、版號、說明、允許呼叫的 GCP CLIENT_ID, scopes 等等)</p>
<blockquote>
<p>@util.positional(2)<br>def api(name, version, description=None, hostname=None, audiences=None,<br>        scopes=None, allowed_client_ids=None, canonical_name=None,<br>        auth=None, owner_domain=None, owner_name=None, package_path=None,<br>        frontend_limits=None, title=None, documentation=None, auth_level=None):</p>
</blockquote>
<p><strong>api/books.py</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@books_api.api_class(resource_name="books")</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BooksAPI</span><span class="params">(remote.Service)</span>:</span></span><br><span class="line">  <span class="string">"""</span></span><br><span class="line"><span class="string">  Books API</span></span><br><span class="line"><span class="string">  """</span></span><br><span class="line"></span><br><span class="line"><span class="meta">  @endpoints.method(BOOKS_LIST_RESOURCE, BookForms, path="books",</span></span><br><span class="line">                    http_method=<span class="string">"GET"</span>, name=<span class="string">"list"</span>)</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">listBooks</span><span class="params">(self, request)</span>:</span></span><br><span class="line">      <span class="string">"""List books"""</span></span><br><span class="line">      ...</span><br><span class="line"></span><br><span class="line"><span class="meta">  @endpoints.method(BOOKS_CREATE_RESOURCE, BookForm, path="books",</span></span><br><span class="line">                    http_method=<span class="string">"POST"</span>, name=<span class="string">"post"</span>)</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">addBook</span><span class="params">(self, request)</span>:</span></span><br><span class="line">      <span class="string">"""Add books"""</span></span><br><span class="line">      ...</span><br><span class="line"></span><br><span class="line"><span class="meta">  @endpoints.method(BOOKS_DELETE_RESOURCE, BooleanMessage, path="books/&#123;websafeKey&#125;",</span></span><br><span class="line">                    http_method=<span class="string">"DELETE"</span>, name=<span class="string">"delete"</span>)</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">deleteBook</span><span class="params">(self, request)</span>:</span></span><br><span class="line">      <span class="string">"""Delete book"""</span></span><br><span class="line">      ...</span><br><span class="line"></span><br><span class="line"><span class="meta">  @endpoints.method(BOOKS_UPDATE_RESOURCE, BookForm, path="books/&#123;websafeKey&#125;",</span></span><br><span class="line">                    http_method=<span class="string">"PUT"</span>, name=<span class="string">"put"</span>)</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">updateBook</span><span class="params">(self, request)</span>:</span></span><br><span class="line">      <span class="string">"""Update book"""</span></span><br><span class="line">      ...</span><br></pre></td></tr></table></figure>
<p>在定義 resource 下的方法時依然使用 Decorate 的方式來對方法進行設置 (method name, path, http method,<br>  cache control, scopes, audiences, client ids and auth_level 等)</p>
<blockquote>
<p>@util.positional(2)<br>def method(request_message=message_types.VoidMessage,<br>           response_message=message_types.VoidMessage,<br>           name=None,<br>           path=None,<br>           http_method=’POST’,<br>           cache_control=None,<br>           scopes=None,<br>           audiences=None,<br>           allowed_client_ids=None,<br>           auth_level=None):</p>
</blockquote>
<p>設置完 endpointAPI 的基本架構，剩下的部份就是 GAE Python<sup id="fnref:3"><a href="#fn:3" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="[go-endpoints](https://github.com/GoogleCloudPlatform/go-endpoints) 其實 go 版的寫法更為簡潔一點
">[3]</span></a></sup> 的基本操作，定義 Datastore module、對 Datastore 進行 CRUD 的操作。有興趣的朋友可以把專案 clone 下來玩看看，並試著自己俢改修改會更有感覺。</p>
<p>endpointAPI 其他的功能還有很多，可以搭配 gRPC<sup id="fnref:4"><a href="#fn:4" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="[gRPC API Service](https://cloud.google.com/endpoints/docs/grpc-service-config)
">[4]</span></a></sup>一起使用、建立 Android/iOS 的 frameworks<sup id="fnref:5"><a href="#fn:5" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="[Cloud Endpoints Frameworks for App Engine](https://cloud.google.com/endpoints/docs/frameworks/java/about-cloud-endpoints-frameworks)
">[5]</span></a></sup> 等，詳細的說明可以見官方的文件 <a href="https://cloud.google.com/endpoints/docs/how-to" target="_blank" rel="noopener">How-to Guides</a></p>
<h3 id="curl"><a href="#curl" class="headerlink" title="curl"></a>curl</h3><p>透過瀏覽器操作過後，透過 curl 操作的結果也是一樣的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ curl http://localhost:8080/_ah/api/dummy/v1/books</span><br><span class="line">&#123;</span><br><span class="line"> &quot;items&quot;: [</span><br><span class="line">  &#123;</span><br><span class="line">   &quot;name&quot;: &quot;Shel Silverstein&quot;,</span><br><span class="line">   &quot;title&quot;: &quot;The Giving Tree&quot;,</span><br><span class="line">   &quot;websafeKey&quot;: &quot;aghkZXZ-Tm9uZXIZCxIEQm9vayIPVGhlIEdpdmluZyBUcmVlDA&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">   &quot;name&quot;: &quot;Harper Lee&quot;,</span><br><span class="line">   &quot;title&quot;: &quot;To Kill a Mockingbird&quot;,</span><br><span class="line">   &quot;websafeKey&quot;: &quot;aghkZXZ-Tm9uZXIfCxIEQm9vayIVVG8gS2lsbCBhIE1vY2tpbmdiaXJkDA&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">   &quot;name&quot;: &quot;dfad&quot;,</span><br><span class="line">   &quot;title&quot;: &quot;fdafd&quot;,</span><br><span class="line">   &quot;websafeKey&quot;: &quot;aghkZXZ-Tm9uZXIPCxIEQm9vayIFZmRhZmQM&quot;</span><br><span class="line">  &#125;</span><br><span class="line"> ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div id="footnotes"><hr><div id="footnotelist"><ol style="list-style: none; padding-left: 0; margin-left: 40px"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">1.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">Endpoints API 2.0 的版本已經出來了，相較於 1.0 改變滿大的，原先像 Google API explorer 的部份由 swagger 取代，詳細的說明請見官網<a href="#fnref:1" rev="footnote"> ↩</a></span></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">2.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">在定義 API 說明時有二種方式。這邊採用的是 <code>@books_api.api_class</code>，在 <code>books_api</code> 下允許定義多組 RESTful resource<a href="#fnref:2" rev="footnote"> ↩</a></span></li><li id="fn:3"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">3.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;"><a href="https://github.com/GoogleCloudPlatform/go-endpoints" target="_blank" rel="noopener">go-endpoints</a> 其實 go 版的寫法更為簡潔一點<a href="#fnref:3" rev="footnote"> ↩</a></span></li><li id="fn:4"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">4.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;"><a href="https://cloud.google.com/endpoints/docs/grpc-service-config" target="_blank" rel="noopener">gRPC API Service</a><a href="#fnref:4" rev="footnote"> ↩</a></span></li><li id="fn:5"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">5.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;"><a href="https://cloud.google.com/endpoints/docs/frameworks/java/about-cloud-endpoints-frameworks" target="_blank" rel="noopener">Cloud Endpoints Frameworks for App Engine</a><a href="#fnref:5" rev="footnote"> ↩</a></span></li></ol></div></div></div></article></div></section><footer><div class="paginator"><a href="/2017/08/18/cloudfunctions-google-maps-services/" class="prev">PREV</a><a href="/2017/06/18/weddingcnp-via-gcp-2/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'kaichuio';
var disqus_identifier = '2017/07/12/weddingcnp-via-gcp-3/';
var disqus_title = 'weddingcnp via GCP - 3. endpointAPI 設計實作';
var disqus_url = 'http://kaichu.io/2017/07/12/weddingcnp-via-gcp-3/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//kaichuio.disqus.com/count.js" async></script><div class="copyright"><p>© 2015 - 2020 <a href="http://kaichu.io">KAI CHU CHUNG</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65308340-1",'auto');ga('send','pageview');</script></body></html>