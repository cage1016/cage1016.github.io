<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="KaiChu"><title>在 Github Pages 建立 Hugo 靜態網站 ｜ KaiChu</title><meta name=description content="原由 颱風天那都不能去，只好繼續 Coding 人生、看看 Pocket 未讀的文章。不過也因此發現好幾個不錯的東西
 Supercharging the Atom Editor for Go Development · marcio.io，最近也開始用 Atom 也開始學習 Golang 語言。這一篇作者說明了他自己的使用經驗。 使用Hugo搭建免费个人Blog · Ulric Qin 這一篇文章看到 Hugo，發現在他的 Blog 也是用 Hugo 架的  在 Ulric Quin 的文章中得知他自己的 Blog 是架在大陸的GitCafe，Hugo 可以直接發佈到 GitCafe &amp;amp; Github 的 Page 免費，當然是立刻自己動手玩一玩"><meta name=keywords content="Hugo,theme,zozo"><link rel="shortcut icon" href=https://kaichu.io/images/favicon.ico><link rel=stylesheet type=text/css media=screen href=https://kaichu.io/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css><link rel=stylesheet type=text/css media=screen href=https://kaichu.io/css/zozo.css><link rel=stylesheet type=text/css media=screen href=https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css><link rel=stylesheet type=text/css media=screen href=https://kaichu.io/css/highlight.css><link rel=stylesheet href=https://kaichu.io/css/add-on.css><link rel=stylesheet href=/css/prism-ghcolors.css></head><body><div class="main animate__animated animate__fadeInDown"><div class="nav_container animated fadeInDown"><div class=site_nav id=site_nav><ul><li><a href=/>Home</a></li><li><a href=/posts/>Archive</a></li><li><a href=/tags/>Tags</a></li><li><a href=/about/>About</a></li></ul></div><div class=menu_icon><a id=menu_icon><i class=ri-menu-line></i></a></div></div><div class="header animated fadeInDown"><div class=site_title_container><div class=site_title><h1><a href=https://kaichu.io/><span>KaiChu</span></a></h1></div><div class=description><p class=sub_title>Life is unique by how you shape it</p><div class=my_socials><a href=https://github.com/cage1016 title=github target=_blank><i class=ri-github-fill></i></a><a href=https://www.instagram.com/cage1016/ title=instagram target=_blank><i class=ri-instagram-fill></i></a><a href=https://www.linkedin.com/in/kaichuchung title=linkedin target=_blank><i class=ri-linkedin-fill></i></a><a href=https://www.slideshare.net/cagechung title=slideshow target=_blank><i class=ri-slideshow-fill></i></a><a href=https://twitter.com/CageChung title=twitter target=_blank><i class=ri-twitter-fill></i></a><a href=https://kaichu.io/index.xml type=application/rss+xml title=rss target=_blank><i class=ri-rss-fill></i></a></div></div></div></div><div class=content><div class=post_page><div class="post animate__animated animate__fadeInDown"><div class="post_title post_detail_title"><h2><a href=/posts/my-first-post/>在 Github Pages 建立 Hugo 靜態網站</a></h2><span class=date>2015.07.12</span></div><div class="post_content markdown"><h3 id=原由>原由</h3><p>颱風天那都不能去，只好繼續 Coding 人生、看看 Pocket 未讀的文章。不過也因此發現好幾個不錯的東西</p><ol><li><a href=http://marcio.io/2015/07/supercharging-atom-editor-for-go-development/>Supercharging the Atom Editor for Go Development · marcio.io</a>，最近也開始用 Atom 也開始學習 Golang 語言。這一篇作者說明了他自己的使用經驗。</li><li><a href=http://ulricqin.com/post/how-to-use-hugo/>使用Hugo搭建免费个人Blog · Ulric Qin</a> 這一篇文章看到 Hugo，發現在他的 Blog 也是用 Hugo 架的</li></ol><p>在 Ulric Quin 的文章中得知他自己的 Blog 是架在大陸的<a href=https://gitcafe.com/>GitCafe</a>，Hugo 可以直接發佈到 GitCafe & Github 的 Page <strong>免費</strong>，當然是立刻自己動手玩一玩</p><p>在 <a href=http://gohugo.io/tutorials/github-pages-blog/#configure-git-workflow-the-alternate-way:fcefb200141ace3e7bfd6542457b7a72>Hosting on GitHub Pages</a> 的說明文件中有如何把 Hugo 靜態網站佈署到 Github Pages 中。但因為 <a href=https://pages.github.com/>GitHub Pages</a> 提供了二種不同形態的頁面 <code>User or organization site</code> & <code>Project Site</code>。其中個人主頁一個帳號只能有<strong>一個</strong>、而專案頁面則可以<strong>很多個</strong>。</p><p>所以在佈署 Hugo 靜態網站也因為對應到不同的型態的 Github Pages 而有所不同。</p><blockquote><p>第一種方式是將 Hugo 靜態網站佈署到 Github Page <code>Project Site</code> 面頁中. 只需要在 github 上建立一個 repo，但是利用 git 中 <code>subtree</code> 的概念將 <code>public</code> 資料夾連結到 <code>gh-pages</code> 的分支上，git 操作過程較為繁鎖</p></blockquote><p>Url 上的差異</p><pre><code class=language-shell># project site url
http://github.com/&lt;your-github-account&gt;/&lt;hugo-project-name&gt;

# github pages host url
http://&lt;your-github-account&gt;.github.io
</code></pre><h4 id=project-site>Project Site</h4><h4 id=step1---安裝-hugo-並建立新專案>Step1 - 安裝 Hugo 並建立新專案</h4><p>在<a href=https://github.com/spf13/hugo/releases>安裝</a>(詳細步驟請看這)好 Hugo 後，直接建立新的 Hugo 專案</p><pre><code class=language-shell># 建立 Hugo 新專案，-f 是指定 yaml 格式，預設為 toml:frontmatter format
$ hugo new site hugo_blog -f yaml

# change directory
$ cd hugo_blog

# git initialized
$ git init
$ echo .DS_Store &gt;&gt; .gitignore

# add git remote repo
$ git remote add origin git@github.com:&lt;your-github-account&gt;/hugo_blog.git
</code></pre><p>檢視新專案資料架構</p><pre><code class=language-shell># &lt;project-name&gt; file structure
├── archetypes
├── config.toml
├── content
├── data
├── layouts
└── static
</code></pre><h4 id=step2---安裝新的-themeshttpgohugoiothemesinstalling>Step2 - <a href=http://gohugo.io/themes/installing/>安裝新的 Themes</a></h4><blockquote><p><a href=https://github.com/spf13/hugoThemes>Hugo Themes repository</a></p></blockquote><p>本來安裝 themes 可直接新建 themes 資料夾並使用 <code>git clone &lt;themes-url></code>，不過此方法在後面 push 到 Github Pages 出，Github 會回報</p><blockquote><p>The page build failed with the following error: The submodule <code>themes/hyde</code> was not properly initialized with a <code>.gitmodules</code> file. For more information, see >https://help.github.com/articles/page-build-failed-missing-submodule.
If you have any questions you can contact us by replying to this email.</p></blockquote><p>所以這邊直接使用 git <code>submodule</code> 的方式來安裝 themes</p><pre><code class=language-shell># add hugo themes to project as submodule
# git submodule add &lt;repository&gt; [&lt;path&gt;]
$ git submodule add https://github.com/spf13/hyde themes/hyde
</code></pre><h4 id=step3---編輯專案設定檔>Step3 - 編輯專案設定檔</h4><pre><code class=language-bash>baseurl : &quot;http://&lt;your-github-account&gt;.github.com/hugo_blog&quot;
languageCode : &quot;en-us&quot;
title : &quot;My New Hugo Site&quot;

# 新增 theme 的名稱
theme : 'hyde'
...
</code></pre><h4 id=step4---新增新的文章>Step4 - 新增新的文章</h4><p>在 <code>content/posts</code> 建立 <code>first-post.md</code></p><pre><code class=language-shell># 會在專案 content/posts 下產生 first-post.md 檔案
# -f 使用 yaml 檔案格式
$ hugo new posts/first-post.md -f yaml
</code></pre><p>編輯 <code>first-post.md</code></p><pre><code class=language-markdown>---
date: 2015-07-16T23:01:57+08:00
title: first post
---

This is my first post.
</code></pre><h4 id=step5---預覽>Step5 - 預覽</h4><p>此時就可以在 Local 執行， <a href=http://127.0.0.1:1313/hugo_blog/>http://127.0.0.1:1313/hugo_blog/</a></p><pre><code class=language-shell># -w watch filesystem for changes and recreate as needed
# -D include content marked as draft
# Press Ctrl+C to stop
$ hugo server -w
</code></pre><p>應該可以看到下面擷圖的樣式<div class=fancybox><a data-fancybox=gallery href=https://kaichu.io/posts/my-first-post/first-post-screenshot.jpg data-caption><img src=https://kaichu.io/posts/my-first-post/first-post-screenshot.jpg></a></div></p><h4 id=step6---發佈-hugo-靜態網站至-github-pages>Step6 - 發佈 Hugo 靜態網站至 Github Pages</h4><p>接下來的動作是一連串的 git 操作，把 Hugo 產生的 <code>public</code> 資料夾推送至 Github Pages</p><pre><code class=language-shell># remove, public folder will created later
$ rm -rf public

$ git add .
$ git commit -m 'hugo project init'

# push
$ git push -u origin master

# Create a new orphand branch (no commit history) named gh-pages
$ git checkout --orphan gh-pages

# Unstage all files
# -rf themes/hyde
$ git rm -rf --cached $(git ls-files)

# Add and commit that file
$ git add .
$ git commit -m &quot;INIT: initial commit on gh-pages branch&quot;

# Push to remote gh-pages branch
$ git push origin gh-pages

# Return to master branch
$ git checkout master

# Remove the public folder to make room for the gh-pages subtree
$ rm -rf public

# Add the gh-pages branch of the repository. It will look like a folder named public
$ git subtree add --prefix=public git@github.com:&lt;your-github-account&gt;/hugo_blog.git gh-pages --squash

# Pull down the file we just committed. This helps avoid merge conflicts
$ git subtree pull --prefix=public git@github.com:&lt;your-github-account&gt;/hugo_blog.git gh-pages

# Run hugo. Generated site will be placed in public directory (or omit -t ThemeName if you're not using a theme)
$ hugo

# Add everything
$ git add -A

# Commit and push to master
$ git commit -m &quot;Updating site&quot; &amp;&amp; git push origin master

# Push the public subtree to the gh-pages branch
$ git subtree push --prefix=public git@github.com:&lt;your-github-account&gt;/hugo_blog.git gh-pages
</code></pre><p>這時候，訪問 <a href=http://%3Cyour-github-account%3E.github.com/hugo_blog>http://your-github-account.github.com/hugo_blog</a> 應該就可以正常運作</p><p>之後如果有任何修改，只有執行最後的3個步驟即可或是將最後的步驟寫成 <code>deploy.sh</code></p><pre><code class=language-shell># deploy.sh
echo -e &quot;\033[0;32mDeploying updates to GitHub...\033[0m&quot;

# Build the project.
hugo

# Add changes to git.
git add -A

# Commit changes.
msg=&quot;rebuilding site `date`&quot;
if [ $# -eq 1 ]
  then msg=&quot;$1&quot;
fi
git commit -m &quot;$msg&quot;

# Push source and build repos.
git push origin master
git subtree push --prefix=public git@github.com:&lt;your-github-account&gt;/hugoblog.git gh-pages
</code></pre><h3 id=organization-site>Organization site</h3><p>Github Pages 除了提供專案主頁(可以多個)之外，也提供了個人主頁(每一個 github 帳號只有一個)的方式。將 Hugo 靜態網站發佈到個人主頁的方式比發佈到專案主頁簡單</p><p>在個人主頁中</p><ul><li>Github repo 必需取口 <your-github-account>.github.io</li><li>master 分支中的內容會被 Build 及發佈到你的 Github Page中 (專案主頁是利用 gh-pages 分支，這點不太一樣)</li></ul><h4 id=step1---建立-hugo-repos>Step1 - 建立 Hugo repos</h4><ul><li>建立 <code>&lt;github-project>-hugo</code> repo (用來 host Hugo 的內容)</li><li>建立 <code>&lt;your-github-account>.github.io</code> repo (Hugo public 中靜態網頁的內容)</li></ul><h4 id=step2---建立-hugo-新專案>Step2 - 建立 Hugo 新專案</h4><pre><code class=language-shell>$ hugo new site &lt;github-project&gt;-hugo -f yaml

# change directory
$ cd &lt;github-project&gt;-hugo

# git initialized
$ git init
$ echo .DS_Store &gt;&gt; .gitignore

# add git remote repo
$ git remote add origin git@github.com:&lt;your-github-account&gt;/&lt;github-project&gt;-hugo.git
</code></pre><h4 id=step3---安裝-themes>Step3 - 安裝 Themes</h4><pre><code class=language-shell>$ git submodule add https://github.com/spf13/hyde themes/hyde
</code></pre><h4 id=step4---編輯專案設定檔>Step4 - 編輯專案設定檔</h4><pre><code class=language-shell>baseurl: 'http://&lt;your-github-account&gt;.github.com/'
languageCode: 'en-us'
title: 'My New Hugo Site'

theme: 'hyde'
...
</code></pre><h4 id=step5---新增文章>Step5 - 新增文章</h4><pre><code class=language-shell>$ hugo new posts/first-post.md -f yaml
</code></pre><pre><code class=language-markdown>---
date: 2015-07-19T17:32:25+08:00
title: first post
---

This is my first hugo post
</code></pre><h4 id=step6---預覽>Step6 - 預覽</h4><p>此時就可以在 Local 執行， <a href=http://127.0.0.1:1313/hugo_blog/>http://127.0.0.1:1313/hugo_blog/</a></p><pre><code class=language-shell># -w watch filesystem for changes and recreate as needed
# -D include content marked as draft
# Press Ctrl+C to stop
$ hugo server -w
</code></pre><h4 id=step7---移除-public>Step7 - 移除 public</h4><pre><code class=language-shell># it will created by `hugo` command after we executed `deploy.sh`
$ rm -rf public
</code></pre><h2 id=step8---新增-your-github-accountgithubio-public-as-submodule>Step8 - 新增 <your-github-account>.github.io public as submodule</h2><pre><code class=language-shell>$ git submodule add git@github.com:&lt;your-github-account&gt;/&lt;your-github-account&gt;.github.io.git public
</code></pre><h4 id=step8---發佈>Step8 - 發佈</h4><pre><code class=language-shell>#deploy.sh
#!/bin/bash

echo -e &quot;\033[0;32mDeploying updates to GitHub...\033[0m&quot;

# Build the project.
hugo # if using a theme, replace by `hugo -t &lt;yourtheme&gt;`

# Go To Public folder
cd public
# Add changes to git.
git add -A

# Commit changes.
msg=&quot;rebuilding site `date`&quot;
if [ $# -eq 1 ]
  then msg=&quot;$1&quot;
fi
git commit -m &quot;$msg&quot;

# Push source and build repos.
git push origin master

# Come Back
cd ..
</code></pre><p>執行發佈shell後，內容會被推送到 <code>&lt;your-github-account>-hugo</code>，而 <code>public</code> 會被推送到 <code>&lt;your-github-account>.github.io</code></p><pre><code class=language-shell>$ deploy.sh 'your commit message'
</code></pre><p>待 Github Page 編譯發佈後，訪問 <a href=http://your-github-account.github.io>http://your-github-account.github.io</a> 就會看到結果!</p><h3 id=參考資料>參考資料</h3><ul><li><a href=http://imcc.mobi/posts/How-to-build-gohugo-on-github/>快速搭建gohugo博客 · Mac Zealot - A.C Che</a></li><li><a href=http://gohugo.io/tutorials/github-pages-blog/#configure-git-workflow-the-alternate-way:fcefb200141ace3e7bfd6542457b7a72>Hosting on GitHub Pages</a></li><li><a href=https://medium.com/@LovettLovett/github-pages-godaddy-f0318c2f25a>GitHub Pages + GoDaddy — Medium</a></li></ul></div><div class=post_footer></div><div class=meta><div class=info><span class="field tags"><i class=ri-stack-line></i><a href=https://kaichu.io/tags/hugo/>hugo</a>
<a href=https://kaichu.io/tags/github/>github</a></span></div></div></div></div><div class=doc_comments><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"kaichuio"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div></div><a id=back_to_top href=# class=back_to_top><i class=ri-arrow-up-s-line></i></a><footer class=footer><div class=powered_by><a href=https://varkai.com>Designed by VarKai,</a>
<a href=http://www.gohugo.io/>Proudly published with Hugo</a></div><div class=footer_slogan><span>My spiritual home</span></div></footer><script src=https://kaichu.io/js/jquery-3.5.1.min.js></script><link href=https://kaichu.io/css/fancybox.min.css rel=stylesheet><script src=https://kaichu.io/js/fancybox.min.js></script><script src=https://kaichu.io/js/zozo.js></script><script type=text/javascript async src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML">MathJax.Hub.Config({tex2jax:{inlineMath:[['$','$'],['\\(','\\)']],displayMath:[['$$','$$'],['\[\[','\]\]']],processEscapes:true,processEnvironments:true,skipTags:['script','noscript','style','textarea','pre'],TeX:{equationNumbers:{autoNumber:"AMS"},extensions:["AMSmath.js","AMSsymbols.js"]}}});MathJax.Hub.Queue(function(){var all=MathJax.Hub.getAllJax(),i;for(i=0;i<all.length;i+=1){all[i].SourceElement().parentNode.className+=' has-jax';}});</script><style>code.has-jax{font:inherit;font-size:100%;background:inherit;border:inherit;color:#515151}</style><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-65308340-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script src=/js/add-on.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.css crossorigin=anonymous onload="if(media!='all')media='all'"><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1.23.0/components/prism-core.min.js crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js crossorigin=anonymous onload="Prism.plugins.autoloader.languages_path='https://cdn.jsdelivr.net/npm/prismjs@1.23.0/components/';"></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js crossorigin=anonymous onload="document.querySelectorAll('pre>code').forEach(function(e){e.classList.add('line-numbers')});"></script></body></html>