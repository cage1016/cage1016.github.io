<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="KaiChu"><title>在 Github Pages 建立 Hugo 靜態網站 ｜ KaiChu</title><meta name=description content="原由 颱風天那都不能去，只好繼續 Coding 人生、看看 Pocket 未讀的文章。不過也因此發現好幾個不錯的東西
 Supercharging the Atom Editor for Go Development · marcio.io，最近也開始用 Atom 也開始學習 Golang 語言。這一篇作者說明了他自己的使用經驗。 使用Hugo搭建免费个人Blog · Ulric Qin 這一篇文章看到 Hugo，發現在他的 Blog 也是用 Hugo 架的  在 Ulric Quin 的文章中得知他自己的 Blog 是架在大陸的GitCafe，Hugo 可以直接發佈到 GitCafe &amp;amp; Github 的 Page 免費，當然是立刻自己動手玩一玩"><meta name=keywords content="Hugo,theme,zozo"><link rel="shortcut icon" href=https://kaichu.io/images/favicon.ico><link rel=stylesheet type=text/css media=screen href=https://kaichu.io/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css><link rel=stylesheet type=text/css media=screen href=https://kaichu.io/css/zozo.css><link rel=stylesheet type=text/css media=screen href=https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css><link rel=stylesheet type=text/css media=screen href=https://kaichu.io/css/highlight.css></head><body><div class="main animate__animated animate__fadeInDown"><div class="nav_container animated fadeInDown"><div class=site_nav id=site_nav><ul><li><a href=/>Home</a></li><li><a href=/posts/>Archive</a></li><li><a href=/tags/>Tags</a></li><li><a href=/about/>About</a></li></ul></div><div class=menu_icon><a id=menu_icon><i class=ri-menu-line></i></a></div></div><div class="header animated fadeInDown"><div class=site_title_container><div class=site_title><h1><a href=https://kaichu.io/><span>KaiChu</span></a></h1></div><div class=description><p class=sub_title>Life is unique by how you shape it</p><div class=my_socials><a href=https://github.com/cage1016 title=github target=_blank><i class=ri-github-fill></i></a><a href=https://www.instagram.com/cage1016/ title=instagram target=_blank><i class=ri-instagram-fill></i></a><a href=https://www.linkedin.com/in/kaichuchung title=linkedin target=_blank><i class=ri-linkedin-fill></i></a><a href=https://www.slideshare.net/cagechung title=slideshow target=_blank><i class=ri-slideshow-fill></i></a><a href=https://twitter.com/CageChung title=twitter target=_blank><i class=ri-twitter-fill></i></a><a href=https://kaichu.io/index.xml type=application/rss+xml title=rss target=_blank><i class=ri-rss-fill></i></a></div></div></div></div><div class=content><div class=post_page><div class="post animate__animated animate__fadeInDown"><div class="post_title post_detail_title"><h2><a href=/posts/my-first-post/>在 Github Pages 建立 Hugo 靜態網站</a></h2><span class=date>2015.07.12</span></div><div class="post_content markdown"><h3 id=原由>原由</h3><p>颱風天那都不能去，只好繼續 Coding 人生、看看 Pocket 未讀的文章。不過也因此發現好幾個不錯的東西</p><ol><li><a href=http://marcio.io/2015/07/supercharging-atom-editor-for-go-development/>Supercharging the Atom Editor for Go Development · marcio.io</a>，最近也開始用 Atom 也開始學習 Golang 語言。這一篇作者說明了他自己的使用經驗。</li><li><a href=http://ulricqin.com/post/how-to-use-hugo/>使用Hugo搭建免费个人Blog · Ulric Qin</a> 這一篇文章看到 Hugo，發現在他的 Blog 也是用 Hugo 架的</li></ol><p>在 Ulric Quin 的文章中得知他自己的 Blog 是架在大陸的<a href=https://gitcafe.com/>GitCafe</a>，Hugo 可以直接發佈到 GitCafe & Github 的 Page <strong>免費</strong>，當然是立刻自己動手玩一玩</p><p>在 <a href=http://gohugo.io/tutorials/github-pages-blog/#configure-git-workflow-the-alternate-way:fcefb200141ace3e7bfd6542457b7a72>Hosting on GitHub Pages</a> 的說明文件中有如何把 Hugo 靜態網站佈署到 Github Pages 中。但因為 <a href=https://pages.github.com/>GitHub Pages</a> 提供了二種不同形態的頁面 <code>User or organization site</code> & <code>Project Site</code>。其中個人主頁一個帳號只能有<strong>一個</strong>、而專案頁面則可以<strong>很多個</strong>。</p><p>所以在佈署 Hugo 靜態網站也因為對應到不同的型態的 Github Pages 而有所不同。</p><blockquote><p>第一種方式是將 Hugo 靜態網站佈署到 Github Page <code>Project Site</code> 面頁中. 只需要在 github 上建立一個 repo，但是利用 git 中 <code>subtree</code> 的概念將 <code>public</code> 資料夾連結到 <code>gh-pages</code> 的分支上，git 操作過程較為繁鎖</p></blockquote><p>Url 上的差異</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh><span class=c1># project site url</span>
http://github.com/&lt;your-github-account&gt;/&lt;hugo-project-name&gt;

<span class=c1># github pages host url</span>
http://&lt;your-github-account&gt;.github.io
</code></pre></div><h4 id=project-site>Project Site</h4><h4 id=step1---安裝-hugo-並建立新專案>Step1 - 安裝 Hugo 並建立新專案</h4><p>在<a href=https://github.com/spf13/hugo/releases>安裝</a>(詳細步驟請看這)好 Hugo 後，直接建立新的 Hugo 專案</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh><span class=c1># 建立 Hugo 新專案，-f 是指定 yaml 格式，預設為 toml:frontmatter format</span>
$ hugo new site hugo_blog -f yaml

<span class=c1># change directory</span>
$ <span class=nb>cd</span> hugo_blog

<span class=c1># git initialized</span>
$ git init
$ <span class=nb>echo</span> .DS_Store &gt;&gt; .gitignore

<span class=c1># add git remote repo</span>
$ git remote add origin git@github.com:&lt;your-github-account&gt;/hugo_blog.git
</code></pre></div><p>檢視新專案資料架構</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh><span class=c1># &lt;project-name&gt; file structure</span>
├── archetypes
├── config.toml
├── content
├── data
├── layouts
└── static
</code></pre></div><h4 id=step2---安裝新的-themeshttpgohugoiothemesinstalling>Step2 - <a href=http://gohugo.io/themes/installing/>安裝新的 Themes</a></h4><blockquote><p><a href=https://github.com/spf13/hugoThemes>Hugo Themes repository</a></p></blockquote><p>本來安裝 themes 可直接新建 themes 資料夾並使用 <code>git clone &lt;themes-url></code>，不過此方法在後面 push 到 Github Pages 出，Github 會回報</p><blockquote><p>The page build failed with the following error: The submodule <code>themes/hyde</code> was not properly initialized with a <code>.gitmodules</code> file. For more information, see >https://help.github.com/articles/page-build-failed-missing-submodule.
If you have any questions you can contact us by replying to this email.</p></blockquote><p>所以這邊直接使用 git <code>submodule</code> 的方式來安裝 themes</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh><span class=c1># add hugo themes to project as submodule</span>
<span class=c1># git submodule add &lt;repository&gt; [&lt;path&gt;]</span>
$ git submodule add https://github.com/spf13/hyde themes/hyde
</code></pre></div><h4 id=step3---編輯專案設定檔>Step3 - 編輯專案設定檔</h4><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>baseurl : <span class=s2>&#34;http://&lt;your-github-account&gt;.github.com/hugo_blog&#34;</span>
languageCode : <span class=s2>&#34;en-us&#34;</span>
title : <span class=s2>&#34;My New Hugo Site&#34;</span>

<span class=c1># 新增 theme 的名稱</span>
theme : <span class=s1>&#39;hyde&#39;</span>
...
</code></pre></div><h4 id=step4---新增新的文章>Step4 - 新增新的文章</h4><p>在 <code>content/posts</code> 建立 <code>first-post.md</code></p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh><span class=c1># 會在專案 content/posts 下產生 first-post.md 檔案</span>
<span class=c1># -f 使用 yaml 檔案格式</span>
$ hugo new posts/first-post.md -f yaml
</code></pre></div><p>編輯 <code>first-post.md</code></p><div class=highlight><pre class=chroma><code class=language-markdown data-lang=markdown>---
date: 2015-07-16T23:01:57+08:00
title: first post
---

This is my first post.
</code></pre></div><h4 id=step5---預覽>Step5 - 預覽</h4><p>此時就可以在 Local 執行， <a href=http://127.0.0.1:1313/hugo_blog/>http://127.0.0.1:1313/hugo_blog/</a></p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh><span class=c1># -w watch filesystem for changes and recreate as needed</span>
<span class=c1># -D include content marked as draft</span>
<span class=c1># Press Ctrl+C to stop</span>
$ hugo server -w
</code></pre></div><p>應該可以看到下面擷圖的樣式<div class=fancybox><a data-fancybox=gallery href=https://kaichu.io/images/posts/first-post-screenshot.jpg data-caption><img src=https://kaichu.io/images/posts/first-post-screenshot.jpg></a></div></p><h4 id=step6---發佈-hugo-靜態網站至-github-pages>Step6 - 發佈 Hugo 靜態網站至 Github Pages</h4><p>接下來的動作是一連串的 git 操作，把 Hugo 產生的 <code>public</code> 資料夾推送至 Github Pages</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh><span class=c1># remove, public folder will created later</span>
$ rm -rf public

$ git add .
$ git commit -m <span class=s1>&#39;hugo project init&#39;</span>

<span class=c1># push</span>
$ git push -u origin master

<span class=c1># Create a new orphand branch (no commit history) named gh-pages</span>
$ git checkout --orphan gh-pages

<span class=c1># Unstage all files</span>
<span class=c1># -rf themes/hyde</span>
$ git rm -rf --cached <span class=k>$(</span>git ls-files<span class=k>)</span>

<span class=c1># Add and commit that file</span>
$ git add .
$ git commit -m <span class=s2>&#34;INIT: initial commit on gh-pages branch&#34;</span>

<span class=c1># Push to remote gh-pages branch</span>
$ git push origin gh-pages

<span class=c1># Return to master branch</span>
$ git checkout master

<span class=c1># Remove the public folder to make room for the gh-pages subtree</span>
$ rm -rf public

<span class=c1># Add the gh-pages branch of the repository. It will look like a folder named public</span>
$ git subtree add --prefix<span class=o>=</span>public git@github.com:&lt;your-github-account&gt;/hugo_blog.git gh-pages --squash

<span class=c1># Pull down the file we just committed. This helps avoid merge conflicts</span>
$ git subtree pull --prefix<span class=o>=</span>public git@github.com:&lt;your-github-account&gt;/hugo_blog.git gh-pages

<span class=c1># Run hugo. Generated site will be placed in public directory (or omit -t ThemeName if you&#39;re not using a theme)</span>
$ hugo

<span class=c1># Add everything</span>
$ git add -A

<span class=c1># Commit and push to master</span>
$ git commit -m <span class=s2>&#34;Updating site&#34;</span> <span class=o>&amp;&amp;</span> git push origin master

<span class=c1># Push the public subtree to the gh-pages branch</span>
$ git subtree push --prefix<span class=o>=</span>public git@github.com:&lt;your-github-account&gt;/hugo_blog.git gh-pages
</code></pre></div><p>這時候，訪問 <a href=http://%3Cyour-github-account%3E.github.com/hugo_blog>http://your-github-account.github.com/hugo_blog</a> 應該就可以正常運作</p><p>之後如果有任何修改，只有執行最後的3個步驟即可或是將最後的步驟寫成 <code>deploy.sh</code></p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh><span class=c1># deploy.sh</span>
<span class=nb>echo</span> -e <span class=s2>&#34;\033[0;32mDeploying updates to GitHub...\033[0m&#34;</span>

<span class=c1># Build the project.</span>
hugo

<span class=c1># Add changes to git.</span>
git add -A

<span class=c1># Commit changes.</span>
<span class=nv>msg</span><span class=o>=</span><span class=s2>&#34;rebuilding site `date`&#34;</span>
<span class=k>if</span> <span class=o>[</span> <span class=nv>$#</span> -eq <span class=m>1</span> <span class=o>]</span>
  <span class=k>then</span> <span class=nv>msg</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$1</span><span class=s2>&#34;</span>
<span class=k>fi</span>
git commit -m <span class=s2>&#34;</span><span class=nv>$msg</span><span class=s2>&#34;</span>

<span class=c1># Push source and build repos.</span>
git push origin master
git subtree push --prefix<span class=o>=</span>public git@github.com:&lt;your-github-account&gt;/hugoblog.git gh-pages
</code></pre></div><h3 id=organization-site>Organization site</h3><p>Github Pages 除了提供專案主頁(可以多個)之外，也提供了個人主頁(每一個 github 帳號只有一個)的方式。將 Hugo 靜態網站發佈到個人主頁的方式比發佈到專案主頁簡單</p><p>在個人主頁中</p><ul><li>Github repo 必需取口 <your-github-account>.github.io</li><li>master 分支中的內容會被 Build 及發佈到你的 Github Page中 (專案主頁是利用 gh-pages 分支，這點不太一樣)</li></ul><h4 id=step1---建立-hugo-repos>Step1 - 建立 Hugo repos</h4><ul><li>建立 <code>&lt;github-project>-hugo</code> repo (用來 host Hugo 的內容)</li><li>建立 <code>&lt;your-github-account>.github.io</code> repo (Hugo public 中靜態網頁的內容)</li></ul><h4 id=step2---建立-hugo-新專案>Step2 - 建立 Hugo 新專案</h4><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>$ hugo new site &lt;github-project&gt;-hugo -f yaml

<span class=c1># change directory</span>
$ <span class=nb>cd</span> &lt;github-project&gt;-hugo

<span class=c1># git initialized</span>
$ git init
$ <span class=nb>echo</span> .DS_Store &gt;&gt; .gitignore

<span class=c1># add git remote repo</span>
$ git remote add origin git@github.com:&lt;your-github-account&gt;/&lt;github-project&gt;-hugo.git
</code></pre></div><h4 id=step3---安裝-themes>Step3 - 安裝 Themes</h4><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>$ git submodule add https://github.com/spf13/hyde themes/hyde
</code></pre></div><h4 id=step4---編輯專案設定檔>Step4 - 編輯專案設定檔</h4><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>baseurl: <span class=s1>&#39;http://&lt;your-github-account&gt;.github.com/&#39;</span>
languageCode: <span class=s1>&#39;en-us&#39;</span>
title: <span class=s1>&#39;My New Hugo Site&#39;</span>

theme: <span class=s1>&#39;hyde&#39;</span>
...
</code></pre></div><h4 id=step5---新增文章>Step5 - 新增文章</h4><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>$ hugo new posts/first-post.md -f yaml
</code></pre></div><div class=highlight><pre class=chroma><code class=language-markdown data-lang=markdown>---
date: 2015-07-19T17:32:25+08:00
title: first post
---

This is my first hugo post
</code></pre></div><h4 id=step6---預覽>Step6 - 預覽</h4><p>此時就可以在 Local 執行， <a href=http://127.0.0.1:1313/hugo_blog/>http://127.0.0.1:1313/hugo_blog/</a></p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh><span class=c1># -w watch filesystem for changes and recreate as needed</span>
<span class=c1># -D include content marked as draft</span>
<span class=c1># Press Ctrl+C to stop</span>
$ hugo server -w
</code></pre></div><h4 id=step7---移除-public>Step7 - 移除 public</h4><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh><span class=c1># it will created by `hugo` command after we executed `deploy.sh`</span>
$ rm -rf public
</code></pre></div><h2 id=step8---新增-your-github-accountgithubio-public-as-submodule>Step8 - 新增 <your-github-account>.github.io public as submodule</h2><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>$ git submodule add git@github.com:&lt;your-github-account&gt;/&lt;your-github-account&gt;.github.io.git public
</code></pre></div><h4 id=step8---發佈>Step8 - 發佈</h4><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh><span class=c1>#deploy.sh</span>
<span class=c1>#!/bin/bash</span>

<span class=nb>echo</span> -e <span class=s2>&#34;\033[0;32mDeploying updates to GitHub...\033[0m&#34;</span>

<span class=c1># Build the project.</span>
hugo <span class=c1># if using a theme, replace by `hugo -t &lt;yourtheme&gt;`</span>

<span class=c1># Go To Public folder</span>
<span class=nb>cd</span> public
<span class=c1># Add changes to git.</span>
git add -A

<span class=c1># Commit changes.</span>
<span class=nv>msg</span><span class=o>=</span><span class=s2>&#34;rebuilding site `date`&#34;</span>
<span class=k>if</span> <span class=o>[</span> <span class=nv>$#</span> -eq <span class=m>1</span> <span class=o>]</span>
  <span class=k>then</span> <span class=nv>msg</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$1</span><span class=s2>&#34;</span>
<span class=k>fi</span>
git commit -m <span class=s2>&#34;</span><span class=nv>$msg</span><span class=s2>&#34;</span>

<span class=c1># Push source and build repos.</span>
git push origin master

<span class=c1># Come Back</span>
<span class=nb>cd</span> ..
</code></pre></div><p>執行發佈shell後，內容會被推送到 <code>&lt;your-github-account>-hugo</code>，而 <code>public</code> 會被推送到 <code>&lt;your-github-account>.github.io</code></p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>$ deploy.sh <span class=s1>&#39;your commit message&#39;</span>
</code></pre></div><p>待 Github Page 編譯發佈後，訪問 <a href=http://your-github-account.github.io>http://your-github-account.github.io</a> 就會看到結果!</p><h3 id=參考資料>參考資料</h3><ul><li><a href=http://imcc.mobi/posts/How-to-build-gohugo-on-github/>快速搭建gohugo博客 · Mac Zealot - A.C Che</a></li><li><a href=http://gohugo.io/tutorials/github-pages-blog/#configure-git-workflow-the-alternate-way:fcefb200141ace3e7bfd6542457b7a72>Hosting on GitHub Pages</a></li><li><a href=https://medium.com/@LovettLovett/github-pages-godaddy-f0318c2f25a>GitHub Pages + GoDaddy — Medium</a></li></ul></div><div class=post_footer></div><div class=meta><div class=info><span class="field tags"><i class=ri-stack-line></i><a href=https://kaichu.io/tags/hugo/>hugo</a>
<a href=https://kaichu.io/tags/github/>github</a></span></div></div></div></div><div class=doc_comments><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"kaichuio"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div></div><a id=back_to_top href=# class=back_to_top><i class=ri-arrow-up-s-line></i></a><footer class=footer><div class=powered_by><a href=https://varkai.com>Designed by VarKai,</a>
<a href=http://www.gohugo.io/>Proudly published with Hugo</a></div><div class=footer_slogan><span>My spiritual home</span></div></footer><script src=https://kaichu.io/js/jquery-3.5.1.min.js></script><link href=https://kaichu.io/css/fancybox.min.css rel=stylesheet><script src=https://kaichu.io/js/fancybox.min.js></script><script src=https://kaichu.io/js/zozo.js></script><script type=text/javascript async src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML">MathJax.Hub.Config({tex2jax:{inlineMath:[['$','$'],['\\(','\\)']],displayMath:[['$$','$$'],['\[\[','\]\]']],processEscapes:true,processEnvironments:true,skipTags:['script','noscript','style','textarea','pre'],TeX:{equationNumbers:{autoNumber:"AMS"},extensions:["AMSmath.js","AMSsymbols.js"]}}});MathJax.Hub.Queue(function(){var all=MathJax.Hub.getAllJax(),i;for(i=0;i<all.length;i+=1){all[i].SourceElement().parentNode.className+=' has-jax';}});</script><style>code.has-jax{font:inherit;font-size:100%;background:inherit;border:inherit;color:#515151}</style><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-65308340-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>