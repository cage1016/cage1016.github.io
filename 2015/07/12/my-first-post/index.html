<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>在 Github Pages 建立 Hugo 靜態網站 · Kaichu.io</title><meta name="description" content="在 Github Pages 建立 Hugo 靜態網站 - KAI CHU CHUNG"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="/css/customize.css"><link rel="search" type="application/opensearchdescription+xml" href="http://kaichu.io/atom.xml" title="Kaichu.io"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://twitter.com/CageChung" target="_blank" class="nav-list-link">TWITTER</a></li><li class="nav-list-item"><a href="https://github.com/cage1016" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="http://www.slideshare.net/cagechung" target="_blank" class="nav-list-link">SLIDESHARE</a></li><li class="nav-list-item"><a href="https://www.linkedin.com/in/kaichuchung" target="_blank" class="nav-list-link">LINKEDIN</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">在 Github Pages 建立 Hugo 靜態網站</h1><div class="post-info">Jul 12, 2015</div><div class="post-content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h3 id="原由"><a href="#原由" class="headerlink" title="原由"></a>原由</h3><p>颱風天那都不能去，只好繼續 Coding 人生、看看 Pocket 未讀的文章。不過也因此發現好幾個不錯的東西</p>
<ol>
<li><a href="http://marcio.io/2015/07/supercharging-atom-editor-for-go-development/" target="_blank" rel="noopener">Supercharging the Atom Editor for Go Development · marcio.io</a>，最近也開始用 Atom 也開始學習 Golang 語言。這一篇作者說明了他自己的使用經驗。</li>
<li><a href="http://ulricqin.com/post/how-to-use-hugo/" target="_blank" rel="noopener">使用Hugo搭建免费个人Blog · Ulric Qin</a> 這一篇文章看到 Hugo，發現在他的 Blog 也是用 Hugo 架的</li>
</ol>
<p>在 Ulric Quin 的文章中得知他自己的 Blog 是架在大陸的<a href="https://gitcafe.com/" target="_blank" rel="noopener">GitCafe</a>，Hugo 可以直接發佈到 GitCafe &amp; Github 的 Page <strong>免費</strong>，當然是立刻自己動手玩一玩</p>
<a id="more"></a>
<p>在 <a href="http://gohugo.io/tutorials/github-pages-blog/#configure-git-workflow-the-alternate-way:fcefb200141ace3e7bfd6542457b7a72" target="_blank" rel="noopener">Hosting on GitHub Pages</a> 的說明文件中有如何把 Hugo 靜態網站佈署到 Github Pages 中。但因為 <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> 提供了二種不同形態的頁面 <code>User or organization site</code> &amp; <code>Project Site</code>。其中個人主頁一個帳號只能有<strong>一個</strong>、而專案頁面則可以<strong>很多個</strong>。</p>
<p>所以在佈署 Hugo 靜態網站也因為對應到不同的型態的 Github Pages 而有所不同。</p>
<blockquote>
<p>第一種方式是將 Hugo 靜態網站佈署到 Github Page <code>Project Site</code> 面頁中. 只需要在 github 上建立一個 repo，但是利用 git 中 <code>subtree</code> 的概念將 <code>public</code> 資料夾連結到 <code>gh-pages</code> 的分支上，git 操作過程較為繁鎖</p>
</blockquote>
<p>Url 上的差異<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># project site url</span></span><br><span class="line">http://github.com/&lt;your-github-account&gt;/&lt;hugo-project-name&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># github pages host url</span></span><br><span class="line">http://&lt;your-github-account&gt;.github.io</span><br></pre></td></tr></table></figure></p>
<h4 id="Project-Site"><a href="#Project-Site" class="headerlink" title="Project Site"></a>Project Site</h4><h4 id="Step1-安裝-Hugo-並建立新專案"><a href="#Step1-安裝-Hugo-並建立新專案" class="headerlink" title="Step1 - 安裝 Hugo 並建立新專案"></a>Step1 - 安裝 Hugo 並建立新專案</h4><p>在<a href="https://github.com/spf13/hugo/releases" target="_blank" rel="noopener">安裝</a>(詳細步驟請看這)好 Hugo 後，直接建立新的 Hugo 專案</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 建立 Hugo 新專案，-f 是指定 yaml 格式，預設為 toml:frontmatter format</span></span><br><span class="line">$ hugo new site hugo_blog -f yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># change directory</span></span><br><span class="line">$ <span class="built_in">cd</span> hugo_blog</span><br><span class="line"></span><br><span class="line"><span class="comment"># git initialized</span></span><br><span class="line">$ git init</span><br><span class="line">$ <span class="built_in">echo</span> .DS_Store &gt;&gt; .gitignore</span><br><span class="line"></span><br><span class="line"><span class="comment"># add git remote repo</span></span><br><span class="line">$ git remote add origin git@github.com:&lt;your-github-account&gt;/hugo_blog.git</span><br></pre></td></tr></table></figure>
<p>檢視新專案資料架構</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &lt;project-name&gt; file structure</span></span><br><span class="line">├── archetypes</span><br><span class="line">├── config.toml</span><br><span class="line">├── content</span><br><span class="line">├── data</span><br><span class="line">├── layouts</span><br><span class="line">└── static</span><br></pre></td></tr></table></figure>
<h4 id="Step2-安裝新的-Themes"><a href="#Step2-安裝新的-Themes" class="headerlink" title="Step2 - 安裝新的 Themes"></a>Step2 - <a href="http://gohugo.io/themes/installing/" target="_blank" rel="noopener">安裝新的 Themes</a></h4><blockquote>
<p><a href="https://github.com/spf13/hugoThemes" target="_blank" rel="noopener">Hugo Themes repository</a></p>
</blockquote>
<p>本來安裝 themes 可直接新建 themes 資料夾並使用 <code>git clone &lt;themes-url&gt;</code>，不過此方法在後面 push 到 Github Pages 出，Github 會回報</p>
<blockquote>
<p>The page build failed with the following error: The submodule <code>themes/hyde</code> was not properly initialized with a <code>.gitmodules</code> file. For more information, see &gt;<a href="https://help.github.com/articles/page-build-failed-missing-submodule" target="_blank" rel="noopener">https://help.github.com/articles/page-build-failed-missing-submodule</a>.<br>If you have any questions you can contact us by replying to this email.</p>
</blockquote>
<p>所以這邊直接使用 git <code>submodule</code> 的方式來安裝 themes<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># add hugo themes to project as submodule</span></span><br><span class="line"><span class="comment"># git submodule add &lt;repository&gt; [&lt;path&gt;]</span></span><br><span class="line">$ git submodule add https://github.com/spf13/hyde themes/hyde</span><br></pre></td></tr></table></figure></p>
<h4 id="Step3-編輯專案設定檔"><a href="#Step3-編輯專案設定檔" class="headerlink" title="Step3 - 編輯專案設定檔"></a>Step3 - 編輯專案設定檔</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">baseurl : <span class="string">"http://&lt;your-github-account&gt;.github.com/hugo_blog"</span></span><br><span class="line">languageCode : <span class="string">"en-us"</span></span><br><span class="line">title : <span class="string">"My New Hugo Site"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 新增 theme 的名稱</span></span><br><span class="line">theme : <span class="string">'hyde'</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h4 id="Step4-新增新的文章"><a href="#Step4-新增新的文章" class="headerlink" title="Step4 - 新增新的文章"></a>Step4 - 新增新的文章</h4><p>在 <code>content/posts</code> 建立 <code>first-post.md</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 會在專案 content/posts 下產生 first-post.md 檔案</span></span><br><span class="line"><span class="comment"># -f 使用 yaml 檔案格式</span></span><br><span class="line">$ hugo new posts/first-post.md -f yaml</span><br></pre></td></tr></table></figure>
<p>編輯 <code>first-post.md</code></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">date: 2015-07-16T23:01:57+08:00</span><br><span class="line">title: first post</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">This is my first post.</span><br></pre></td></tr></table></figure>
<h4 id="Step5-預覽"><a href="#Step5-預覽" class="headerlink" title="Step5 - 預覽"></a>Step5 - 預覽</h4><p>此時就可以在 Local 執行， <a href="http://127.0.0.1:1313/hugo_blog/" target="_blank" rel="noopener">http://127.0.0.1:1313/hugo_blog/</a></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -w watch filesystem for changes and recreate as needed</span></span><br><span class="line"><span class="comment"># -D include content marked as draft</span></span><br><span class="line"><span class="comment"># Press Ctrl+C to stop</span></span><br><span class="line">$ hugo server -w</span><br></pre></td></tr></table></figure>
<p>應該可以看到下面擷圖的樣式<br><img src="/img/first-post-screenshot.jpg" alt></p>
<h4 id="Step6-發佈-Hugo-靜態網站至-Github-Pages"><a href="#Step6-發佈-Hugo-靜態網站至-Github-Pages" class="headerlink" title="Step6 - 發佈 Hugo 靜態網站至 Github Pages"></a>Step6 - 發佈 Hugo 靜態網站至 Github Pages</h4><p>接下來的動作是一連串的 git 操作，把 Hugo 產生的 <code>public</code> 資料夾推送至 Github Pages</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># remove, public folder will created later</span></span><br><span class="line">$ rm -rf public</span><br><span class="line"></span><br><span class="line">$ git add .</span><br><span class="line">$ git commit -m <span class="string">'hugo project init'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># push</span></span><br><span class="line">$ git push -u origin master</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create a new orphand branch (no commit history) named gh-pages</span></span><br><span class="line">$ git checkout --orphan gh-pages</span><br><span class="line"></span><br><span class="line"><span class="comment"># Unstage all files</span></span><br><span class="line"><span class="comment"># -rf themes/hyde</span></span><br><span class="line">$ git rm -rf --cached $(git ls-files)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Add and commit that file</span></span><br><span class="line">$ git add .</span><br><span class="line">$ git commit -m <span class="string">"INIT: initial commit on gh-pages branch"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Push to remote gh-pages branch</span></span><br><span class="line">$ git push origin gh-pages</span><br><span class="line"></span><br><span class="line"><span class="comment"># Return to master branch</span></span><br><span class="line">$ git checkout master</span><br><span class="line"></span><br><span class="line"><span class="comment"># Remove the public folder to make room for the gh-pages subtree</span></span><br><span class="line">$ rm -rf public</span><br><span class="line"></span><br><span class="line"><span class="comment"># Add the gh-pages branch of the repository. It will look like a folder named public</span></span><br><span class="line">$ git subtree add --prefix=public git@github.com:&lt;your-github-account&gt;/hugo_blog.git gh-pages --squash</span><br><span class="line"></span><br><span class="line"><span class="comment"># Pull down the file we just committed. This helps avoid merge conflicts</span></span><br><span class="line">$ git subtree pull --prefix=public git@github.com:&lt;your-github-account&gt;/hugo_blog.git gh-pages</span><br><span class="line"></span><br><span class="line"><span class="comment"># Run hugo. Generated site will be placed in public directory (or omit -t ThemeName if you're not using a theme)</span></span><br><span class="line">$ hugo</span><br><span class="line"></span><br><span class="line"><span class="comment"># Add everything</span></span><br><span class="line">$ git add -A</span><br><span class="line"></span><br><span class="line"><span class="comment"># Commit and push to master</span></span><br><span class="line">$ git commit -m <span class="string">"Updating site"</span> &amp;&amp; git push origin master</span><br><span class="line"></span><br><span class="line"><span class="comment"># Push the public subtree to the gh-pages branch</span></span><br><span class="line">$ git subtree push --prefix=public git@github.com:&lt;your-github-account&gt;/hugo_blog.git gh-pages</span><br></pre></td></tr></table></figure>
<p>這時候，訪問 <a href="http://&lt;your-github-account&gt;.github.com/hugo_blog" target="_blank" rel="noopener">http://your-github-account.github.com/hugo_blog</a> 應該就可以正常運作</p>
<p>之後如果有任何修改，只有執行最後的3個步驟即可或是將最後的步驟寫成 <code>deploy.sh</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># deploy.sh</span></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">"\033[0;32mDeploying updates to GitHub...\033[0m"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Build the project.</span></span><br><span class="line">hugo</span><br><span class="line"></span><br><span class="line"><span class="comment"># Add changes to git.</span></span><br><span class="line">git add -A</span><br><span class="line"></span><br><span class="line"><span class="comment"># Commit changes.</span></span><br><span class="line">msg=<span class="string">"rebuilding site `date`"</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$#</span> -eq 1 ]</span><br><span class="line">  <span class="keyword">then</span> msg=<span class="string">"<span class="variable">$1</span>"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">git commit -m <span class="string">"<span class="variable">$msg</span>"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Push source and build repos.</span></span><br><span class="line">git push origin master</span><br><span class="line">git subtree push --prefix=public git@github.com:&lt;your-github-account&gt;/hugoblog.git gh-pages</span><br></pre></td></tr></table></figure>
<h3 id="Organization-site"><a href="#Organization-site" class="headerlink" title="Organization site"></a>Organization site</h3><p>Github Pages 除了提供專案主頁(可以多個)之外，也提供了個人主頁(每一個 github 帳號只有一個)的方式。將 Hugo 靜態網站發佈到個人主頁的方式比發佈到專案主頁簡單</p>
<p>在個人主頁中</p>
<ul>
<li>Github repo 必需取口 <your-github-account>.github.io</your-github-account></li>
<li>master 分支中的內容會被 Build 及發佈到你的 Github Page中 (專案主頁是利用 gh-pages 分支，這點不太一樣)</li>
</ul>
<h4 id="Step1-建立-Hugo-repos"><a href="#Step1-建立-Hugo-repos" class="headerlink" title="Step1 - 建立 Hugo repos"></a>Step1 - 建立 Hugo repos</h4><ul>
<li>建立 <code>&lt;github-project&gt;-hugo</code> repo (用來 host Hugo 的內容)</li>
<li>建立 <code>&lt;your-github-account&gt;.github.io</code> repo (Hugo public 中靜態網頁的內容)</li>
</ul>
<h4 id="Step2-建立-Hugo-新專案"><a href="#Step2-建立-Hugo-新專案" class="headerlink" title="Step2 - 建立 Hugo 新專案"></a>Step2 - 建立 Hugo 新專案</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ hugo new site &lt;github-project&gt;-hugo -f yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># change directory</span></span><br><span class="line">$ <span class="built_in">cd</span> &lt;github-project&gt;-hugo</span><br><span class="line"></span><br><span class="line"><span class="comment"># git initialized</span></span><br><span class="line">$ git init</span><br><span class="line">$ <span class="built_in">echo</span> .DS_Store &gt;&gt; .gitignore</span><br><span class="line"></span><br><span class="line"><span class="comment"># add git remote repo</span></span><br><span class="line">$ git remote add origin git@github.com:&lt;your-github-account&gt;/&lt;github-project&gt;-hugo.git</span><br></pre></td></tr></table></figure>
<h4 id="Step3-安裝-Themes"><a href="#Step3-安裝-Themes" class="headerlink" title="Step3 - 安裝 Themes"></a>Step3 - 安裝 Themes</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git submodule add https://github.com/spf13/hyde themes/hyde</span><br></pre></td></tr></table></figure>
<h4 id="Step4-編輯專案設定檔"><a href="#Step4-編輯專案設定檔" class="headerlink" title="Step4 - 編輯專案設定檔"></a>Step4 - 編輯專案設定檔</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">baseurl: <span class="string">'http://&lt;your-github-account&gt;.github.com/'</span></span><br><span class="line">languageCode: <span class="string">'en-us'</span></span><br><span class="line">title: <span class="string">'My New Hugo Site'</span></span><br><span class="line"></span><br><span class="line">theme: <span class="string">'hyde'</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h4 id="Step5-新增文章"><a href="#Step5-新增文章" class="headerlink" title="Step5 - 新增文章"></a>Step5 - 新增文章</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hugo new posts/first-post.md -f yaml</span><br></pre></td></tr></table></figure>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">date: 2015-07-19T17:32:25+08:00</span><br><span class="line">title: first post</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">This is my first hugo post</span><br></pre></td></tr></table></figure>
<h4 id="Step6-預覽"><a href="#Step6-預覽" class="headerlink" title="Step6 - 預覽"></a>Step6 - 預覽</h4><p>此時就可以在 Local 執行， <a href="http://127.0.0.1:1313/hugo_blog/" target="_blank" rel="noopener">http://127.0.0.1:1313/hugo_blog/</a></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -w watch filesystem for changes and recreate as needed</span></span><br><span class="line"><span class="comment"># -D include content marked as draft</span></span><br><span class="line"><span class="comment"># Press Ctrl+C to stop</span></span><br><span class="line">$ hugo server -w</span><br></pre></td></tr></table></figure>
<h4 id="Step7-移除-public"><a href="#Step7-移除-public" class="headerlink" title="Step7 - 移除 public"></a>Step7 - 移除 public</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># it will created by `hugo` command after we executed `deploy.sh`</span></span><br><span class="line">$ rm -rf public</span><br></pre></td></tr></table></figure>
<h2 id="Step8-新增-github-io-public-as-submodule"><a href="#Step8-新增-github-io-public-as-submodule" class="headerlink" title="Step8 - 新增 .github.io public as submodule"></a>Step8 - 新增 <your-github-account>.github.io public as submodule</your-github-account></h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git submodule add git@github.com:&lt;your-github-account&gt;/&lt;your-github-account&gt;.github.io.git public</span><br></pre></td></tr></table></figure>
<h4 id="Step8-發佈"><a href="#Step8-發佈" class="headerlink" title="Step8 - 發佈"></a>Step8 - 發佈</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#deploy.sh</span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">"\033[0;32mDeploying updates to GitHub...\033[0m"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Build the project.</span></span><br><span class="line">hugo <span class="comment"># if using a theme, replace by `hugo -t &lt;yourtheme&gt;`</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Go To Public folder</span></span><br><span class="line"><span class="built_in">cd</span> public</span><br><span class="line"><span class="comment"># Add changes to git.</span></span><br><span class="line">git add -A</span><br><span class="line"></span><br><span class="line"><span class="comment"># Commit changes.</span></span><br><span class="line">msg=<span class="string">"rebuilding site `date`"</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$#</span> -eq 1 ]</span><br><span class="line">  <span class="keyword">then</span> msg=<span class="string">"<span class="variable">$1</span>"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">git commit -m <span class="string">"<span class="variable">$msg</span>"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Push source and build repos.</span></span><br><span class="line">git push origin master</span><br><span class="line"></span><br><span class="line"><span class="comment"># Come Back</span></span><br><span class="line"><span class="built_in">cd</span> ..</span><br></pre></td></tr></table></figure>
<p>執行發佈shell後，內容會被推送到 <code>&lt;your-github-account&gt;-hugo</code>，而 <code>public</code> 會被推送到 <code>&lt;your-github-account&gt;.github.io</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ deploy.sh <span class="string">'your commit message'</span></span><br></pre></td></tr></table></figure>
<p>待 Github Page 編譯發佈後，訪問 <a href="http://your-github-account.github.io" target="_blank" rel="noopener">http://your-github-account.github.io</a> 就會看到結果!</p>
<h3 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h3><ul>
<li><a href="http://imcc.mobi/posts/How-to-build-gohugo-on-github/" target="_blank" rel="noopener">快速搭建gohugo博客 · Mac Zealot - A.C Che</a></li>
<li><a href="http://gohugo.io/tutorials/github-pages-blog/#configure-git-workflow-the-alternate-way:fcefb200141ace3e7bfd6542457b7a72" target="_blank" rel="noopener">Hosting on GitHub Pages</a></li>
<li><a href="https://medium.com/@LovettLovett/github-pages-godaddy-f0318c2f25a" target="_blank" rel="noopener">GitHub Pages + GoDaddy — Medium</a></li>
</ul>
</div></article></div></section><footer><div class="paginator"><a href="/2015/07/21/adc/" class="prev">PREV</a><a href="/2015/07/05/life-dot-com-text-copy/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'kaichuio';
var disqus_identifier = '2015/07/12/my-first-post/';
var disqus_title = '在 Github Pages 建立 Hugo 靜態網站';
var disqus_url = 'http://kaichu.io/2015/07/12/my-first-post/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//kaichuio.disqus.com/count.js" async></script><div class="copyright"><p>© 2015 - 2020 <a href="http://kaichu.io">KAI CHU CHUNG</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65308340-1",'auto');ga('send','pageview');</script></body></html>